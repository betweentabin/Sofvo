# App Store申請でリジェクトされる可能性のある問題点

## 🚨 高リスク（ほぼ確実にリジェクト）

### 1. **Apple Sign Inの未実装** ⚠️ 最優先
**問題:** メール/パスワード認証のみで、Apple Sign Inが実装されていません。

**App Storeガイドライン:** 4.8 - Sign in with Apple
- サードパーティ認証（メール/パスワード含む）を提供する場合、Apple Sign Inの実装が必須

**影響:** ほぼ100%リジェクトされます

**修正方法:**
```bash
npm install @capacitor-firebase/authentication
# または
npm install @awesome-cordova-plugins/sign-in-with-apple
```

**必要な実装:**
- ログイン画面にApple Sign Inボタンを追加
- Firebaseでの認証フローの実装
- Apple Developer Consoleでの設定

---

### 2. **利用規約とプライバシーポリシーが他社のコピー** ⚠️ 最優先
**問題:**
- `/src/screens/利用規約/Screen23.jsx` - Xの利用規約がそのままコピーされている
- `/src/screens/プライバシーポリシー/Screen26.jsx` - Xのプライバシーポリシーがそのままコピーされている

**App Storeガイドライン:** 5.1.1 - Legal
- アプリ固有の利用規約とプライバシーポリシーが必要
- 他社のコピーは法的問題となり、即リジェクト

**影響:** 100%リジェクトされます（法的リスクも）

**修正方法:**
- Sofvo専用の利用規約を作成
- Sofvo専用のプライバシーポリシーを作成
- 収集する情報、使用目的、第三者提供などを明記

**参考テンプレート:** `TERMS_OF_SERVICE_TEMPLATE.md`, `PRIVACY_POLICY_TEMPLATE.md`

---

## ⚠️ 中リスク（リジェクトの可能性あり）

### 3. **外部WebビューやWebコンテンツへのリンク**
**確認必要:** アプリ内でWebビューを使用している場合

**App Storeガイドライン:** 4.2 - Minimum Functionality
- 単なるWebサイトのラッパーアプリは不可
- アプリはネイティブ機能を提供する必要がある

**現状:** React + Capacitorで実装されているため、問題ない可能性が高い

---

### 4. **プライバシー情報の開示**
**確認必要:** App Store Connectでのプライバシー情報の申告

**必要な情報:**
- 収集するデータの種類（氏名、メール、位置情報など）
- データの使用目的
- サードパーティとの共有
- トラッキングの有無

**現状確認:**
- プロフィール情報（氏名、年齢、性別、競技歴、活動地域）
- メールアドレス
- 大会情報、チーム情報
- 投稿内容

これらを正確にApp Store Connectで申告する必要があります。

---

### 5. **データ削除の実装確認**
**現状:** 退会機能は実装済み（`/src/screens/退会/Screen31.jsx`）✅

**確認事項:**
- アカウント削除時にすべてのユーザーデータが削除されるか
- サーバー側のデータも削除されるか

**要確認:** `/functions/api/[[path]].js` の `users/me` DELETE エンドポイント

---

## ⚡ 低リスク（推奨改善）

### 6. **アプリのメタデータ**
**確認事項:**
- アプリ名が商標権を侵害していないか
- スクリーンショットが実際のアプリと一致しているか
- アプリの説明が正確か

---

### 7. **年齢制限の設定**
**確認必要:**
- コンテンツに応じた適切な年齢制限
- ユーザー生成コンテンツがある場合の対策

**現状:** ユーザーが投稿を作成できるため、コンテンツモデレーション機能が推奨される

---

### 8. **通知機能の許可説明**
**確認必要:** プッシュ通知を使用する場合

**App Storeガイドライン:** 5.1.1 - Privacy
- 通知許可を求める前に、なぜ必要かを説明する必要がある

**現状:** `@capacitor/push-notifications` がインストールされているため、実装されている可能性あり

---

## 📋 チェックリスト（申請前）

### 必須対応（リジェクト回避）
- [ ] **Apple Sign Inの実装**
- [ ] **Sofvo専用の利用規約作成と実装**
- [ ] **Sofvo専用のプライバシーポリシー作成と実装**
- [ ] App Store Connectでプライバシー情報を正確に申告
- [ ] データ削除機能の動作確認

### 推奨対応
- [ ] Google Sign Inの実装（オプション）
- [ ] アプリアイコンとスプラッシュスクリーンの最終確認
- [ ] すべての画面でエラーハンドリングが適切か確認
- [ ] ネットワークエラー時の対応確認
- [ ] 全機能の動作テスト
- [ ] スクリーンショットの準備（全画面サイズ）
- [ ] アプリプレビュー動画の作成（オプション）

### App Store Connect設定
- [ ] アプリ名、サブタイトル
- [ ] カテゴリ（スポーツ）
- [ ] キーワード
- [ ] サポートURL
- [ ] プライバシーポリシーURL
- [ ] 年齢制限
- [ ] 価格設定

---

## 🔧 緊急修正が必要な項目

### 最優先（今すぐ）
1. Apple Sign Inの実装
2. 利用規約・プライバシーポリシーの作成

### 優先（申請前）
3. App Store Connectでのプライバシー情報申告準備
4. データ削除機能の完全性確認

---

## 📚 参考リンク

- [App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/)
- [Sign in with Apple](https://developer.apple.com/sign-in-with-apple/)
- [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)

---

## ⏱️ 推定修正時間

- Apple Sign In実装: 4-6時間
- 利用規約・プライバシーポリシー作成: 2-3時間
- テストと最終確認: 2-3時間

**合計: 8-12時間**

---

## 📝 注意事項

### Androidの場合
Google Play Storeの場合は、Apple Sign Inは不要ですが、以下が必要です:
- Google Sign Inの実装（推奨）
- プライバシーポリシーの公開URL
- データ削除機能
- データセーフティフォームの記入

### iOS & Androidの両方
- 利用規約とプライバシーポリシーは両方で必須
- データ削除機能は両方で必須
- 適切なプライバシー情報の開示は両方で必須
